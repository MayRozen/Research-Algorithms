{% extends "layout.html" %}
{% block content %}
<form method="POST" action="{{ url_for('run_algorithm') }}">
  <input type="hidden" name="num_players" value="{{ num_players }}">
  <input type="hidden" name="num_items"   value="{{ num_items }}">

  <div class="table-responsive mb-4 d-flex justify-content-center">
    <table class="table table-bordered text-center align-middle mx-auto" style="width:auto;">
      <thead class="table-light">
        <tr>
          <th></th>
          {% for j in range(1, num_items+1) %}
            <th class="fs-5">G{{ j }}</th>
          {% endfor %}
        </tr>
      </thead>
      <tbody>
        {% for i in range(1, num_players+1) %}
          <tr>
            <th class="fs-6 align-middle">P{{ i }}</th>
            {% for j in range(1, num_items+1) %}
              <td>
                <input
                  name="v-{{ i }}-{{ j }}"
                  type="number"
                  step="any"
                  class="form-control form-control-lg"
                  required
                  placeholder="Value"
                  value="{{ previous_vals['P'~i]['G'~j] if previous_vals else '' }}">
              </td>
            {% endfor %}
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <button type="submit" class="btn btn-success btn-lg w-100">Run Algorithm</button>
</form>
{% endblock %}
